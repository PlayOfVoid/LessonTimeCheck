{% extends "lessons/base.html" %}
{% load static %}

{% block title %}–£—á–µ–Ω–∏–∫–∏{% endblock %}

{% block content %}

<div class="container">
    <div class="header-bar">
        <h1>üë• –£—á–µ–Ω–∏–∫–∏</h1>
    </div>

    <div class="card">
        <h2>‚ûï –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞</h2>
        <form method="post" class="form-inline">
            {% csrf_token %}
            <div class="form-group">
                {{ form.name }}
                {% if form.name.errors %}
                    <div class="error">{{ form.name.errors }}</div>
                {% endif %}
            </div>
            <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
        </form>
    </div>

    <div class="students-grid">
        {% for student in students %}
            <a href="{% url 'student_detail' student.id %}" class="student-card">
                <h3>{{ student.name }}</h3>
                {% if student.lessons.exists %}
                    <p class="lessons-count">–ó–∞–Ω—è—Ç–∏–π: {{ student.lessons.count }}</p>
                {% else %}
                    <p class="lessons-count empty">–ù–µ—Ç –∑–∞–Ω—è—Ç–∏–π</p>
                {% endif %}
            </a>
        {% empty %}
            <div class="empty-state">
                <p>–ü–æ–∫–∞ –Ω–µ—Ç —É—á–µ–Ω–∏–∫–æ–≤. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ!</p>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}

